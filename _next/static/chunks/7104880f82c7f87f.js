(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,279105,e=>{e.v("/_next/static/media/taffy_wasm_bg.17e31002.wasm")},900231,e=>{"use strict";var l=e.i(843476),a=e.i(271645),t=e.i(548037),n=e.i(357369);let r=["#007aff","#34c759","#ff3b30","#4da3ff","#7ddc8b","#ff8a80","#1e40af","#f97316"],i=[{label:"Row",value:"row"},{label:"Column",value:"column"},{label:"Row Reverse",value:"rowReverse"},{label:"Column Reverse",value:"columnReverse"}],o=[{label:"Flex Start",value:"flexStart"},{label:"Center",value:"center"},{label:"Flex End",value:"flexEnd"},{label:"Space Between",value:"spaceBetween"},{label:"Space Around",value:"spaceAround"},{label:"Space Evenly",value:"spaceEvenly"},{label:"Start",value:"start"},{label:"End",value:"end"},{label:"Stretch",value:"stretch"}],s=[{label:"Stretch",value:"stretch"},{label:"Flex Start",value:"flexStart"},{label:"Center",value:"center"},{label:"Flex End",value:"flexEnd"},{label:"Start",value:"start"},{label:"End",value:"end"},{label:"Baseline",value:"baseline"}],u=[{label:"No Wrap",value:"nowrap"},{label:"Wrap",value:"wrap"},{label:"Wrap Reverse",value:"wrapReverse"}],d=[{label:"Row",value:"row"},{label:"Column",value:"column"},{label:"Row Dense",value:"rowDense"},{label:"Column Dense",value:"columnDense"}],c=[{label:"Auto",value:"auto"},{label:"Stretch",value:"stretch"},{label:"Flex Start",value:"flexStart"},{label:"Center",value:"center"},{label:"Flex End",value:"flexEnd"},{label:"Start",value:"start"},{label:"End",value:"end"},{label:"Baseline",value:"baseline"}],p={row:n.FlexDirection.Row,column:n.FlexDirection.Column,rowReverse:n.FlexDirection.RowReverse,columnReverse:n.FlexDirection.ColumnReverse},g={nowrap:n.FlexWrap.NoWrap,wrap:n.FlexWrap.Wrap,wrapReverse:n.FlexWrap.WrapReverse},m={flexStart:n.JustifyContent.FlexStart,center:n.JustifyContent.Center,flexEnd:n.JustifyContent.FlexEnd,spaceBetween:n.JustifyContent.SpaceBetween,spaceAround:n.JustifyContent.SpaceAround,spaceEvenly:n.JustifyContent.SpaceEvenly,start:n.JustifyContent.Start,end:n.JustifyContent.End,stretch:n.JustifyContent.Stretch},h={stretch:n.AlignItems.Stretch,flexStart:n.AlignItems.FlexStart,center:n.AlignItems.Center,flexEnd:n.AlignItems.FlexEnd,start:n.AlignItems.Start,end:n.AlignItems.End,baseline:n.AlignItems.Baseline},x={stretch:n.AlignContent.Stretch,flexStart:n.AlignContent.FlexStart,center:n.AlignContent.Center,flexEnd:n.AlignContent.FlexEnd,start:n.AlignContent.Start,end:n.AlignContent.End,spaceBetween:n.AlignContent.SpaceBetween,spaceAround:n.AlignContent.SpaceAround,spaceEvenly:n.AlignContent.SpaceEvenly},f={auto:n.AlignSelf.Auto,stretch:n.AlignSelf.Stretch,flexStart:n.AlignSelf.FlexStart,center:n.AlignSelf.Center,flexEnd:n.AlignSelf.FlexEnd,start:n.AlignSelf.Start,end:n.AlignSelf.End,baseline:n.AlignSelf.Baseline},w={row:n.GridAutoFlow.Row,column:n.GridAutoFlow.Column,rowDense:n.GridAutoFlow.RowDense,columnDense:n.GridAutoFlow.ColumnDense},b={width:120,height:80,widthAuto:!1,heightAuto:!1,flexGrow:0,flexShrink:1,flexBasis:0,flexBasisAuto:!0,alignSelf:"auto",rowSpan:1,columnSpan:1},v=(e,l)=>Array.from({length:e},()=>({...b,...l})),y={flexBetween:{name:"Flex · Space Between",description:"A row container distributing space between cards.",config:{displayMode:"flex",container:{padding:16,gapX:16,gapY:16,flex:{direction:"row",justifyContent:"spaceBetween",alignItems:"center",alignContent:"stretch",wrap:"nowrap"},grid:{columns:3,rows:2,columnMode:"fixed",columnSize:180,rowMode:"fixed",rowSize:120,autoFlow:"row"}},items:v(3,{width:140,height:90})}},flexGrow:{name:"Flex · Grow",description:"Items grow proportionally to fill the row.",config:{displayMode:"flex",container:{padding:12,gapX:12,gapY:12,flex:{direction:"row",justifyContent:"flexStart",alignItems:"stretch",alignContent:"stretch",wrap:"nowrap"},grid:{columns:3,rows:2,columnMode:"fixed",columnSize:180,rowMode:"fixed",rowSize:120,autoFlow:"row"}},items:[{...b,width:120,height:90,flexGrow:1},{...b,width:120,height:90,flexGrow:2},{...b,width:120,height:90,flexGrow:1}]}},flexWrap:{name:"Flex · Wrap",description:"Wrapping layout with align-content controls.",config:{displayMode:"flex",container:{padding:16,gapX:16,gapY:16,flex:{direction:"row",justifyContent:"flexStart",alignItems:"center",alignContent:"spaceBetween",wrap:"wrap"},grid:{columns:3,rows:2,columnMode:"fixed",columnSize:180,rowMode:"fixed",rowSize:120,autoFlow:"row"}},items:v(8,{width:140,height:70})}},gridBasic:{name:"Grid · Basic",description:"Auto-placed grid tracks with fixed sizes.",config:{displayMode:"grid",container:{padding:16,gapX:12,gapY:12,flex:{direction:"row",justifyContent:"flexStart",alignItems:"stretch",alignContent:"stretch",wrap:"nowrap"},grid:{columns:3,rows:2,columnMode:"fixed",columnSize:200,rowMode:"fixed",rowSize:120,autoFlow:"row"}},items:v(6,{width:140,height:80,widthAuto:!0,heightAuto:!0})}},gridSpans:{name:"Grid · Spans",description:"Mix spans to highlight grid placement.",config:{displayMode:"grid",container:{padding:16,gapX:12,gapY:12,flex:{direction:"row",justifyContent:"flexStart",alignItems:"stretch",alignContent:"stretch",wrap:"nowrap"},grid:{columns:4,rows:3,columnMode:"fixed",columnSize:160,rowMode:"fixed",rowSize:100,autoFlow:"row"}},items:[{...b,widthAuto:!0,heightAuto:!0,columnSpan:2,rowSpan:1},{...b,widthAuto:!0,heightAuto:!0,columnSpan:1,rowSpan:2},{...b,widthAuto:!0,heightAuto:!0,columnSpan:2,rowSpan:1},{...b,widthAuto:!0,heightAuto:!0,columnSpan:1,rowSpan:1},{...b,widthAuto:!0,heightAuto:!0,columnSpan:1,rowSpan:1},{...b,widthAuto:!0,heightAuto:!0,columnSpan:1,rowSpan:1}]}}},C=(e,l,a)=>Array.from({length:Math.max(e,1)},()=>"fixed"===l?{min:a,max:a}:{min:"auto",max:`${a}fr`}),j=e=>JSON.parse(JSON.stringify(e));function S({config:e,setConfig:t,previewScale:n,setPreviewScale:r,updateContainer:c,updateFlex:p,updateGrid:g,updateItemCount:m}){let[h,x]=(0,a.useState)(null),f=(e,l)=>{r(a=>({...a,[e]:Math.min(100,Math.max(10,l))}))};return(0,l.jsxs)("div",{className:"playground-toolbar",children:[(0,l.jsxs)("div",{className:"toolbar-group",children:[(0,l.jsx)("label",{className:"toolbar-label",children:"Canvas:"}),(0,l.jsxs)("div",{className:"playground-row gap-1",children:[(0,l.jsx)("span",{className:"playground-tag-size text-[0.6rem]",children:"W"}),(0,l.jsxs)("div",{className:"group relative flex items-center",onFocus:()=>x("width"),onBlur:e=>{e.relatedTarget&&e.currentTarget.contains(e.relatedTarget)||x(null)},children:[(0,l.jsx)("input",{className:"playground-input small",type:"number",min:10,max:100,value:n.width,onChange:e=>f("width",Number(e.target.value)),autoComplete:"off",inputMode:"numeric",name:"preview-width","aria-label":"Preview width percentage"}),"width"===h&&(0,l.jsx)("div",{className:"absolute top-full left-1/2 z-20 w-[120px] -translate-x-1/2 pt-2",children:(0,l.jsx)("div",{className:"flex rounded-lg border border-slate-200 bg-white p-2 shadow-lg",children:(0,l.jsx)("input",{type:"range",min:10,max:100,value:n.width,onChange:e=>f("width",Number(e.target.value)),className:"w-full cursor-pointer",name:"preview-width-range","aria-label":"Preview width slider",autoComplete:"off"})})})]}),(0,l.jsx)("span",{className:"playground-tag-size text-[0.6rem]",children:"%"})]}),(0,l.jsxs)("div",{className:"playground-row gap-1",children:[(0,l.jsx)("span",{className:"playground-tag-size text-[0.6rem]",children:"H"}),(0,l.jsxs)("div",{className:"group relative flex items-center",onFocus:()=>x("height"),onBlur:e=>{e.relatedTarget&&e.currentTarget.contains(e.relatedTarget)||x(null)},children:[(0,l.jsx)("input",{className:"playground-input small",type:"number",min:10,max:100,value:n.height,onChange:e=>f("height",Number(e.target.value)),autoComplete:"off",inputMode:"numeric",name:"preview-height","aria-label":"Preview height percentage"}),"height"===h&&(0,l.jsx)("div",{className:"absolute top-full left-1/2 z-20 w-[120px] -translate-x-1/2 pt-2",children:(0,l.jsx)("div",{className:"flex rounded-lg border border-slate-200 bg-white p-2 shadow-lg",children:(0,l.jsx)("input",{type:"range",min:10,max:100,value:n.height,onChange:e=>f("height",Number(e.target.value)),className:"w-full cursor-pointer",name:"preview-height-range","aria-label":"Preview height slider",autoComplete:"off"})})})]}),(0,l.jsx)("span",{className:"playground-tag-size text-[0.6rem]",children:"%"})]})]}),(0,l.jsxs)("div",{className:"toolbar-group",children:[(0,l.jsx)("label",{className:"toolbar-label",children:"Display:"}),(0,l.jsxs)("select",{className:"playground-select small",value:e.displayMode,onChange:e=>t(l=>({...l,displayMode:e.target.value})),"aria-label":"Display mode",name:"display-mode",autoComplete:"off",children:[(0,l.jsx)("option",{value:"flex",children:"Flex"}),(0,l.jsx)("option",{value:"grid",children:"Grid"})]})]}),(0,l.jsxs)("div",{className:"toolbar-group",children:[(0,l.jsx)("label",{className:"toolbar-label",children:"Padding:"}),(0,l.jsx)("input",{className:"playground-input small",type:"number",min:0,max:100,value:e.container.padding,onChange:e=>c({padding:Number(e.target.value)}),"aria-label":"Container padding",name:"container-padding",autoComplete:"off"})]}),(0,l.jsxs)("div",{className:"toolbar-group",children:[(0,l.jsx)("label",{className:"toolbar-label",children:"Gap:"}),(0,l.jsx)("input",{className:"playground-input small",type:"number",min:0,max:100,value:e.container.gapX,onChange:e=>c({gapX:Number(e.target.value)}),"aria-label":"Horizontal gap",name:"container-gap-x",autoComplete:"off"}),(0,l.jsx)("input",{className:"playground-input small",type:"number",min:0,max:100,value:e.container.gapY,onChange:e=>c({gapY:Number(e.target.value)}),"aria-label":"Vertical gap",name:"container-gap-y",autoComplete:"off"})]}),"flex"===e.displayMode?(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)("div",{className:"toolbar-group",children:[(0,l.jsx)("label",{className:"toolbar-label",children:"Direction:"}),(0,l.jsx)("select",{className:"playground-select small",value:e.container.flex.direction,onChange:e=>p({direction:e.target.value}),"aria-label":"Flex direction",name:"flex-direction",autoComplete:"off",children:i.map(e=>(0,l.jsx)("option",{value:e.value,children:e.label},e.value))})]}),(0,l.jsxs)("div",{className:"toolbar-group",children:[(0,l.jsx)("label",{className:"toolbar-label",children:"Justify:"}),(0,l.jsx)("select",{className:"playground-select small",value:e.container.flex.justifyContent,onChange:e=>p({justifyContent:e.target.value}),"aria-label":"Justify content",name:"justify-content",autoComplete:"off",children:o.map(e=>(0,l.jsx)("option",{value:e.value,children:e.label},e.value))})]}),(0,l.jsxs)("div",{className:"toolbar-group",children:[(0,l.jsx)("label",{className:"toolbar-label",children:"Align:"}),(0,l.jsx)("select",{className:"playground-select small",value:e.container.flex.alignItems,onChange:e=>p({alignItems:e.target.value}),"aria-label":"Align items",name:"align-items",autoComplete:"off",children:s.map(e=>(0,l.jsx)("option",{value:e.value,children:e.label},e.value))})]}),(0,l.jsxs)("div",{className:"toolbar-group",children:[(0,l.jsx)("label",{className:"toolbar-label",children:"Wrap:"}),(0,l.jsx)("select",{className:"playground-select small",value:e.container.flex.wrap,onChange:e=>p({wrap:e.target.value}),"aria-label":"Flex wrap",name:"flex-wrap",autoComplete:"off",children:u.map(e=>(0,l.jsx)("option",{value:e.value,children:e.label},e.value))})]})]}):(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)("div",{className:"toolbar-group",children:[(0,l.jsx)("label",{className:"toolbar-label",children:"Columns:"}),(0,l.jsx)("input",{className:"playground-input small",type:"number",min:1,max:20,value:e.container.grid.columns,onChange:e=>g({columns:Number(e.target.value)}),"aria-label":"Grid columns",name:"grid-columns",autoComplete:"off"}),(0,l.jsxs)("select",{className:"playground-select small",value:e.container.grid.columnMode,onChange:e=>g({columnMode:e.target.value}),"aria-label":"Grid column sizing mode",name:"grid-column-mode",autoComplete:"off",children:[(0,l.jsx)("option",{value:"fixed",children:"Fixed"}),(0,l.jsx)("option",{value:"fr",children:"fr"})]}),(0,l.jsx)("input",{className:"playground-input small",type:"number",min:10,max:500,value:e.container.grid.columnSize,onChange:e=>g({columnSize:Number(e.target.value)}),"aria-label":"Grid column size",name:"grid-column-size",autoComplete:"off"})]}),(0,l.jsxs)("div",{className:"toolbar-group",children:[(0,l.jsx)("label",{className:"toolbar-label",children:"Rows:"}),(0,l.jsx)("input",{className:"playground-input small",type:"number",min:1,max:20,value:e.container.grid.rows,onChange:e=>g({rows:Number(e.target.value)}),"aria-label":"Grid rows",name:"grid-rows",autoComplete:"off"}),(0,l.jsxs)("select",{className:"playground-select small",value:e.container.grid.rowMode,onChange:e=>g({rowMode:e.target.value}),"aria-label":"Grid row sizing mode",name:"grid-row-mode",autoComplete:"off",children:[(0,l.jsx)("option",{value:"fixed",children:"Fixed"}),(0,l.jsx)("option",{value:"fr",children:"fr"})]}),(0,l.jsx)("input",{className:"playground-input small",type:"number",min:10,max:500,value:e.container.grid.rowSize,onChange:e=>g({rowSize:Number(e.target.value)}),"aria-label":"Grid row size",name:"grid-row-size",autoComplete:"off"})]}),(0,l.jsxs)("div",{className:"toolbar-group",children:[(0,l.jsx)("label",{className:"toolbar-label",children:"Flow:"}),(0,l.jsx)("select",{className:"playground-select small",value:e.container.grid.autoFlow,onChange:e=>g({autoFlow:e.target.value}),"aria-label":"Grid auto flow",name:"grid-auto-flow",autoComplete:"off",children:d.map(e=>(0,l.jsx)("option",{value:e.value,children:e.label},e.value))})]})]}),(0,l.jsxs)("div",{className:"toolbar-group",children:[(0,l.jsx)("label",{className:"toolbar-label",children:"Items:"}),(0,l.jsx)("input",{className:"playground-input small",type:"number",min:1,max:20,value:e.items.length,onChange:e=>m(Number(e.target.value)),"aria-label":"Item count",name:"item-count",autoComplete:"off"})]})]})}var N=e.i(174080);let A=({selectedItem:e,config:a,updateItem:t,onClose:n})=>(0,l.jsxs)("div",{className:"playground-tooltip-content",children:[(0,l.jsx)("button",{type:"button","aria-label":"Close editor",style:{position:"absolute",top:8,right:8,cursor:"pointer",opacity:.5,zIndex:10,background:"transparent",border:"none",padding:0},onClick:n,children:"×"}),(0,l.jsxs)("div",{className:"playground-field",children:[(0,l.jsx)("label",{children:(0,l.jsx)("span",{className:"playground-tag playground-tag-size",children:"Size"})}),(0,l.jsxs)("div",{className:"playground-row",children:[(0,l.jsxs)("label",{className:"playground-inline",children:[(0,l.jsx)("input",{type:"checkbox",checked:e.widthAuto,onChange:e=>t({widthAuto:e.target.checked}),name:"item-width-auto","aria-label":"Auto width",autoComplete:"off"}),"Auto W"]}),(0,l.jsx)("input",{className:"playground-input small",type:"number",min:0,value:e.width,onChange:e=>t({width:Number(e.target.value)}),disabled:e.widthAuto,name:"item-width","aria-label":"Item width",autoComplete:"off"})]}),(0,l.jsxs)("div",{className:"playground-row",children:[(0,l.jsxs)("label",{className:"playground-inline",children:[(0,l.jsx)("input",{type:"checkbox",checked:e.heightAuto,onChange:e=>t({heightAuto:e.target.checked}),name:"item-height-auto","aria-label":"Auto height",autoComplete:"off"}),"Auto H"]}),(0,l.jsx)("input",{className:"playground-input small",type:"number",min:0,value:e.height,onChange:e=>t({height:Number(e.target.value)}),disabled:e.heightAuto,name:"item-height","aria-label":"Item height",autoComplete:"off"})]})]}),"flex"===a.displayMode?(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)("div",{className:"playground-field",children:[(0,l.jsx)("label",{children:(0,l.jsx)("span",{className:"playground-tag playground-tag-flex",children:"Flex Grow"})}),(0,l.jsx)("div",{className:"playground-row",children:(0,l.jsx)("input",{className:"playground-input small",type:"number",min:0,value:e.flexGrow,onChange:e=>t({flexGrow:Number(e.target.value)}),name:"item-flex-grow","aria-label":"Flex grow",autoComplete:"off"})})]}),(0,l.jsxs)("div",{className:"playground-field",children:[(0,l.jsx)("label",{children:(0,l.jsx)("span",{className:"playground-tag playground-tag-flex",children:"Flex Shrink"})}),(0,l.jsx)("div",{className:"playground-row",children:(0,l.jsx)("input",{className:"playground-input small",type:"number",min:0,value:e.flexShrink,onChange:e=>t({flexShrink:Number(e.target.value)}),name:"item-flex-shrink","aria-label":"Flex shrink",autoComplete:"off"})})]}),(0,l.jsxs)("div",{className:"playground-field",children:[(0,l.jsx)("label",{children:(0,l.jsx)("span",{className:"playground-tag playground-tag-flex",children:"Flex Basis"})}),(0,l.jsxs)("div",{className:"playground-row",children:[(0,l.jsxs)("label",{className:"playground-inline",children:[(0,l.jsx)("input",{type:"checkbox",checked:e.flexBasisAuto,onChange:e=>t({flexBasisAuto:e.target.checked}),name:"item-flex-basis-auto","aria-label":"Auto flex basis",autoComplete:"off"}),"Auto"]}),(0,l.jsx)("input",{className:"playground-input small",type:"number",min:0,value:e.flexBasis,onChange:e=>t({flexBasis:Number(e.target.value)}),disabled:e.flexBasisAuto,name:"item-flex-basis","aria-label":"Flex basis",autoComplete:"off"})]})]})]}):(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)("div",{className:"playground-field",children:[(0,l.jsx)("label",{children:(0,l.jsx)("span",{className:"playground-tag playground-tag-grid",children:"Grid Span (Column)"})}),(0,l.jsx)("div",{className:"playground-row",children:(0,l.jsx)("input",{className:"playground-input small",type:"number",min:1,value:e.columnSpan,onChange:e=>t({columnSpan:Number(e.target.value)}),name:"item-column-span","aria-label":"Grid column span",autoComplete:"off"})})]}),(0,l.jsxs)("div",{className:"playground-field",children:[(0,l.jsx)("label",{children:(0,l.jsx)("span",{className:"playground-tag playground-tag-grid",children:"Grid Span (Row)"})}),(0,l.jsx)("div",{className:"playground-row",children:(0,l.jsx)("input",{className:"playground-input small",type:"number",min:1,value:e.rowSpan,onChange:e=>t({rowSpan:Number(e.target.value)}),name:"item-row-span","aria-label":"Grid row span",autoComplete:"off"})})]})]}),(0,l.jsxs)("div",{className:"playground-field",children:[(0,l.jsx)("label",{children:(0,l.jsx)("span",{className:"playground-tag playground-tag-align",children:"Align Self"})}),(0,l.jsx)("select",{className:"playground-select small",value:e.alignSelf,onChange:e=>t({alignSelf:e.target.value}),name:"item-align-self","aria-label":"Align self",autoComplete:"off",children:c.map(e=>(0,l.jsx)("option",{value:e.value,children:e.label},e.value))})]})]}),F=(e,l)=>{for(let a of e){if(a.meta?.index===l)return a;if(a.children){let e=F(a.children,l);if(e)return e}}return null};function M({layoutNodes:e,previewSize:t,setAvailableSize:n,selectedItemIndex:r,setSelectedItemIndex:i,config:o,updateItem:s}){let u=(0,a.useRef)(null),d=(0,a.useRef)(null),c=(0,a.useRef)(null),[p,g]=(0,a.useState)(null);(0,a.useEffect)(()=>{let e=u.current;if(!e)return;let l=new ResizeObserver(e=>{let l=e[0];l&&n({width:Math.floor(Math.max(200,l.contentRect.width)),height:Math.floor(Math.max(200,l.contentRect.height))})});return l.observe(e),()=>l.disconnect()},[n]),(0,a.useEffect)(()=>{if(null===r)return;let e=e=>{let l=e.target;c.current?.contains(l)||d.current?.contains(l)||i(null)};return document.addEventListener("pointerdown",e),()=>{document.removeEventListener("pointerdown",e)}},[r,i]);let m=null!==r?o.items[r]:null,h=null!==r?F(e,r):null,x=(0,a.useCallback)(()=>{if(!h||!d.current)return void g(null);let e=d.current.getBoundingClientRect();g({x:e.left+h.x+h.width/2,y:e.top+h.y})},[h]);(0,a.useEffect)(()=>{let e=window.requestAnimationFrame(()=>{x()});return()=>window.cancelAnimationFrame(e)},[x,t.width,t.height]),(0,a.useEffect)(()=>{if(!h)return;let e=u.current,l=()=>x();return e?.addEventListener("scroll",l,{passive:!0}),window.addEventListener("resize",l),()=>{e?.removeEventListener("scroll",l),window.removeEventListener("resize",l)}},[h,x]);let f=e=>{let a=e.meta?.index,t=a===r,n=e=>{(e.stopPropagation(),void 0===a)?i(null):i(a)},o=`${Math.round(e.width)} \xd7 ${Math.round(e.height)}`;return(0,l.jsxs)("div",{className:`playground-node ${t?"playground-node-selected":""}`,style:{left:e.x,top:e.y,width:e.width,height:e.height,backgroundColor:e.meta?.color,borderColor:e.meta?.color},onClick:n,onMouseDownCapture:e=>{e.preventDefault()},onTouchStartCapture:e=>{e.preventDefault()},role:"button",tabIndex:0,onKeyDown:e=>{if("Enter"===e.key||" "===e.key){e.preventDefault();let l=e.currentTarget.getBoundingClientRect();n({currentTarget:e.currentTarget,clientX:l.left+l.width/2,clientY:l.top+l.height/2})}},children:[void 0!==a&&(0,l.jsx)("div",{className:"playground-node-content",children:(0,l.jsx)("span",{className:"playground-node-size",children:o})}),e.children?.map(e=>f(e))]},e.id.toString())};return(0,l.jsx)("div",{className:"playground-preview-body",children:(0,l.jsx)("div",{ref:u,className:"playground-preview-surface",style:{},onClick:e=>{e.target===e.currentTarget&&i(null)},role:"button",tabIndex:0,"aria-label":"Clear selection",onKeyDown:e=>{("Enter"===e.key||" "===e.key)&&(e.preventDefault(),i(null))},children:(0,l.jsxs)("div",{ref:d,className:"playground-preview-root",style:{width:t.width,height:t.height},onClick:e=>{e.target===e.currentTarget&&i(null)},role:"button",tabIndex:0,"aria-label":"Clear selection",onKeyDown:e=>{("Enter"===e.key||" "===e.key)&&(e.preventDefault(),i(null))},children:[e.map(f),m&&h&&p&&"u">typeof document?(0,N.createPortal)((0,l.jsx)("div",{className:"playground-tooltip-anchor",style:{left:p.x,top:p.y-12},children:(0,l.jsxs)("div",{className:"playground-tooltip",ref:c,children:[(0,l.jsx)("button",{className:"playground-tooltip-close absolute top-3 right-3 z-10",onClick:()=>i(null),"aria-label":"Close editor",children:"×"}),(0,l.jsx)(A,{selectedItem:m,config:o,updateItem:s,onClose:()=>i(null)})]})}),document.body):null]})})})}var E=e.i(759426);function k(){let e,i=(0,E.getCurrentLocale)(),o=(0,E.getUi)(i),{config:s,setConfig:u,presetKey:d,updateContainer:c,updateFlex:v,updateGrid:N,updateItemCount:A,handlePresetChange:F}=function(){let[e,l]=(0,a.useState)("flexBetween"),[t,n]=(0,a.useState)(j(y.flexBetween.config)),r=(0,a.useCallback)(e=>{n(l=>({...l,container:{...l.container,...e}}))},[]),i=(0,a.useCallback)(e=>{n(l=>({...l,container:{...l.container,flex:{...l.container.flex,...e}}}))},[]),o=(0,a.useCallback)(e=>{n(l=>({...l,container:{...l.container,grid:{...l.container.grid,...e}}}))},[]),s=(0,a.useCallback)(e=>{n(l=>{let a=Math.max(1,e),t=[...l.items];if(a>t.length)for(let e=t.length;e<a;e+=1)t.push({...b});else a<t.length&&t.splice(a);return{...l,items:t}})},[]),u=(0,a.useCallback)(e=>{l(e),n(j(y[e].config))},[]);return{config:t,setConfig:n,presetKey:e,updateContainer:r,updateFlex:i,updateGrid:o,updateItemCount:s,handlePresetChange:u}}(),[k,B]=(0,a.useState)(null),[z,G]=(0,a.useState)({width:0,height:0}),[I,R]=(0,a.useState)({width:100,height:100}),{layoutNodes:D,error:T,previewSize:W}=function(e,l,i){let[o,s]=(0,a.useState)([]),[u,d]=(0,a.useState)(null),[c,b]=(0,a.useState)(!1),v=(0,a.useMemo)(()=>({width:Math.max(10,Math.round(l.width*i.width/100)),height:Math.max(10,Math.round(l.height*i.height/100))}),[l.width,l.height,i.width,i.height]);(0,a.useEffect)(()=>{let e=!1;return(0,t.loadTaffy)().then(()=>{e||b(!0)}).catch(l=>{e||d(l instanceof Error?l.message:String(l))}),()=>{e=!0}},[]);let y=(0,a.useCallback)(()=>{if(!c)return void d("Taffy WASM is still loading.");if(0!==v.width&&0!==v.height){d(null);try{let l=new n.TaffyTree,a={},t=new n.Style;t.display="flex"===e.displayMode?n.Display.Flex:n.Display.Grid,t.size={width:v.width,height:v.height},t.padding={left:e.container.padding,right:e.container.padding,top:e.container.padding,bottom:e.container.padding},t.gap={width:e.container.gapX,height:e.container.gapY},"flex"===e.displayMode?(t.flexDirection=p[e.container.flex.direction],t.justifyContent=m[e.container.flex.justifyContent],t.alignItems=h[e.container.flex.alignItems],t.alignContent=x[e.container.flex.alignContent],t.flexWrap=g[e.container.flex.wrap]):(t.gridAutoFlow=w[e.container.grid.autoFlow],t.gridTemplateColumns=C(e.container.grid.columns,e.container.grid.columnMode,e.container.grid.columnSize),t.gridTemplateRows=C(e.container.grid.rows,e.container.grid.rowMode,e.container.grid.rowSize));let i=[];e.items.forEach((t,o)=>{let s=new n.Style;s.size={width:t.widthAuto?"auto":t.width,height:t.heightAuto?"auto":t.height},s.alignSelf=f[t.alignSelf],"flex"===e.displayMode?(s.flexGrow=t.flexGrow,s.flexShrink=t.flexShrink,s.flexBasis=t.flexBasisAuto?"auto":t.flexBasis):(t.columnSpan>1&&(s.gridColumn={start:"auto",end:{span:t.columnSpan}}),t.rowSpan>1&&(s.gridRow={start:"auto",end:{span:t.rowSpan}}));let u=l.newLeaf(s);i.push(u),a[u.toString()]={label:`Item ${o+1}`,color:r[o%r.length],index:o}});let o=l.newWithChildren(t,i);a[o.toString()]={label:"Container",color:"rgba(0, 122, 255, 0.12)"},l.computeLayout(o,{width:v.width,height:v.height});let u=((e,l,a)=>{let t=new Map,n=new Map,r=new Set,i=[l];for(;i.length>0;){let l=i.shift();if(void 0===l)break;if(r.has(l))continue;r.add(l);let o=e.getLayout(l),s=e.children(l),u=[];for(let e of s)u.push(e);for(let e of(t.set(l,{id:l,x:o.x,y:o.y,width:o.width,height:o.height,meta:a[l.toString()]}),n.set(l,u),u))i.push(e)}for(let[e,l]of n.entries()){let a=t.get(e);if(!a||0===l.length)continue;let n=l.map(e=>t.get(e)).filter(e=>!!e);a.children=n.length>0?n:void 0}let o=t.get(l);return o?[o]:[]})(l,o,a);s(u)}catch(e){d(e instanceof Error?e.stack??e.message:String(e))}}},[e,c,v]);return(0,a.useEffect)(()=>{if(c){let e=setTimeout(()=>{y()},0);return()=>clearTimeout(e)}},[c,y]),{layoutNodes:o,error:u,engineReady:c,previewSize:v}}(s,z,I);null!==k&&k>=s.items.length&&B(Math.max(0,s.items.length-1));let J=(0,a.useCallback)(e=>{null!==k&&u(l=>({...l,items:l.items.map((l,a)=>a===k?{...l,...e}:l)}))},[k,u]),P={flexBetween:"presetFlexBetween",flexCenter:"presetFlexCenter",flexGrow:"presetFlexGrow",flexWrap:"presetFlexWrap",gridBasic:"presetGridBasic",gridSpans:"presetGridSpans"};return(0,l.jsxs)("main",{className:"playground-shell mx-auto w-full max-w-7xl px-4 py-12 sm:px-6 lg:px-8",children:[(0,l.jsxs)("header",{className:"playground-header",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("h1",{className:"mb-2 text-4xl font-black text-slate-900 dark:text-slate-50",children:o.taffyPlayground}),(0,l.jsx)("p",{className:"playground-subtitle",children:(e=({flexBetween:"presetFlexBetweenDesc",flexCenter:"presetFlexCenterDesc",flexGrow:"presetFlexGrowDesc",flexWrap:"presetFlexWrapDesc",gridBasic:"presetGridBasicDesc",gridSpans:"presetGridSpansDesc"})[String(d)])?String(o[e]):""})]}),(0,l.jsx)("div",{className:"playground-header-actions",children:(0,l.jsx)("select",{className:"playground-select",value:d,onChange:e=>F(e.target.value),"aria-label":"Select preset",name:"playground-preset",autoComplete:"off",children:Object.entries(y).map(([e])=>{let a;return(0,l.jsx)("option",{value:e,children:(a=P[e])?String(o[a]):e},e)})})})]}),T&&(0,l.jsxs)("div",{className:"playground-error",children:["⚠️ ",T]}),(0,l.jsx)("div",{className:"playground-body",children:(0,l.jsxs)("section",{className:"playground-panel",children:[(0,l.jsx)("div",{className:"playground-panel-header",children:(0,l.jsx)(S,{config:s,setConfig:u,previewScale:I,setPreviewScale:R,updateContainer:c,updateFlex:v,updateGrid:N,updateItemCount:A})}),(0,l.jsx)("div",{className:"playground-panel-body",children:(0,l.jsx)(M,{layoutNodes:D,previewSize:W,setAvailableSize:G,selectedItemIndex:k,setSelectedItemIndex:B,config:s,updateItem:J})})]})})]})}e.s(["default",()=>k],900231)},696532,e=>{e.n(e.i(900231))}]);